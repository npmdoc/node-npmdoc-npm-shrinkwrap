<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/uber/npm-shrinkwrap"

    >npm-shrinkwrap (v6.0.2)</a>
</h1>
<h4>A consistent shrinkwrap tool</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-shrinkwrap">module npm-shrinkwrap</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.npm-shrinkwrap">
            function <span class="apidocSignatureSpan"></span>npm-shrinkwrap
            <span class="apidocSignatureSpan">(opts, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.cli">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.</span>cli
            <span class="apidocSignatureSpan">(opts, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-shrinkwrap.</span>errors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-shrinkwrap.</span>formatters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-shrinkwrap.</span>read</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-shrinkwrap.cli">module npm-shrinkwrap.cli</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.cli.cli">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.</span>cli
            <span class="apidocSignatureSpan">(opts, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.cli.printWarnings">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.cli.</span>printWarnings
            <span class="apidocSignatureSpan">(err, formatters)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-shrinkwrap.errors">module npm-shrinkwrap.errors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.EmptyFile">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>EmptyFile
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.InvalidNPMVersion">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidNPMVersion
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.InvalidPackage">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidPackage
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.InvalidVersion">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidVersion
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.InvalidVersionsNPMError">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidVersionsNPMError
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.MissingPackage">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>MissingPackage
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.NPMError">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>NPMError
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.NoTagError">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>NoTagError
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.errors.NonSemverTag">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>NonSemverTag
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-shrinkwrap.formatters">module npm-shrinkwrap.formatters</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.formatters.default">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.formatters.</span>default
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.formatters.gitlink.tag.notsemver">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.formatters.</span>gitlink.tag.notsemver
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.formatters.invalid.git.version">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.formatters.</span>invalid.git.version
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-shrinkwrap.read">module npm-shrinkwrap.read</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.read.devDependencies">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.read.</span>devDependencies
            <span class="apidocSignatureSpan">(dirname, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.read.package">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.read.</span>package
            <span class="apidocSignatureSpan">(dirname, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-shrinkwrap.read.shrinkwrap">
            function <span class="apidocSignatureSpan">npm-shrinkwrap.read.</span>shrinkwrap
            <span class="apidocSignatureSpan">(dirname, cb)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-shrinkwrap" id="apidoc.module.npm-shrinkwrap">module npm-shrinkwrap</a></h1>


    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.npm-shrinkwrap" id="apidoc.element.npm-shrinkwrap.npm-shrinkwrap">
        function <span class="apidocSignatureSpan"></span>npm-shrinkwrap
        <span class="apidocSignatureSpan">(opts, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function npmShrinkwrap(opts, callback) {
    if (typeof opts === &#x27;string&#x27;) {
        opts = { dirname: opts };
    }

    var _warnings = null;
    var _oldShrinkwrap = null;

    getNPM().load({
        prefix: opts.dirname,
        dev: opts.dev,
        loglevel: &#x27;error&#x27;
    }, verifyTree);

    function verifyTree(err, npm) {
        if (err) {
            return callback(err);
        }

        // when running under `npm test` depth is set to 1
        // reset it to a high number like 100
        npm.config.set(&#x27;depth&#x27;, 100);

        npm.commands.ls([], true, onls);

        function onls(err, _, pkginfo) {
            if (err) {
                return callback(err);
            }

            if (pkginfo.problems) {
                var error = NPMError(pkginfo);
                return callback(error);
            }

            verifyGit(opts, onverify);
        }

        function onverify(err, errors) {
            if (err) {
                return callback(err);
            }

            if (errors.length === 0) {
                return onnpm(null, npm);
            }

            var error = ValidationError(errors);
            var invalid = find(errors, function (error) {
                return error.type === &#x27;invalid.git.version&#x27;;
            });

            if (invalid) {
                error = ERRORS.InvalidVersionsNPMError({
                    actual: invalid.actual,
                    name: invalid.name,
                    dirname: invalid.dirname,
                    errors: error.errors
                });
            }

            var types = errors.reduce(function (acc, e) {
                if (acc.indexOf(e.type) === -1) {
                    acc.push(e.type);
                }

                return acc;
            }, []);

            if (opts.warnOnNotSemver &#x26;&#x26; types.length === 1 &#x26;&#x26;
                types[0] === &#x27;gitlink.tag.notsemver&#x27;
            ) {
                _warnings = error.errors;
                return onnpm(null, npm);
            }

            callback(error);
        }
    }

    function onnpm(err, npm) {
        if (err) {
            return callback(err);
        }

        var fileName = path.join(opts.dirname, &#x27;npm-shrinkwrap.json&#x27;);
        readJSON(fileName, onfile);

        function onfile(err, oldShrinkwrap) {
            if (err) {
                // if no npm-shrinkwrap.json exists then just
                // create one
                npm.commands.shrinkwrap({}, true, onshrinkwrap);
                return;
            }

            _oldShrinkwrap = oldShrinkwrap;

<span class="apidocCodeCommentSpan">            /* npm.commands.shrinkwrap will blow away any
                extra keys that you set.

                We have to read extra keys &#x26; set them again
                after shrinkwrap is done
            */
</span>            var keys = Object.keys(oldShrinkwrap)
                .filter(function (k) {
                    return [
                        &#x27;name&#x27;, &#x27;version&#x27;, &#x27;dependencies&#x27;
                    ].indexOf(k) === -1;
                });

            npm.commands.shrinkwrap({}, true, onwrapped);

            function onwrapped(err) {
                if (err) {
                    return callback(err);
                }

                readJSON(fileName, onnewfile);
            }

            function onnewfile(err, newShrinkwrap) {
                if (err) {
                    return callback(err);
                }

                keys.forEach(function (k) {
                    if (!newShrinkwrap[k]) {
                        newShrinkwrap[k] = oldShrinkwrap[k];
                    }
                });

                newShrinkwrap = sortedObject(newShrinkwrap);

                var buf = JSON.stringify(newShrinkwrap, null, 2) + &#x27;\n&#x27;;
                fs.writeFile(fileName, buf, &#x27;utf8&#x27;, onshrinkwrap);
            }
        }
    }

    function onshrinkwrap(err) {
        if (err) {
            return callback(err);
        }

        setResolved(opts, onResolved);
    }

    function onResolved(err) {
        if (err) {
            return callback(err);
        }

        trimFr ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.cli" id="apidoc.element.npm-shrinkwrap.cli">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.</span>cli
        <span class="apidocSignatureSpan">(opts, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function main(opts, callback) {
    var command = opts._.shift();

    if (opts.h || opts.help || command === &#x27;help&#x27;) {
        return printHelp(opts);
    }

    opts.dirname = opts.dirname ?
        path.resolve(opts.dirname) : process.cwd();

    opts.keepNested = &#x27;keep-nested&#x27; in opts ?
        !!opts[&#x27;keep-nested&#x27;] : &#x27;keepNested&#x27; in opts ?
        !!opts.keepNested : true;

    opts.warnOnNotSemver = opts.warnOnNotSemver ?
        opts.warnOnNotSemver : true;

    opts.cmd = opts.cmd || &#x27;npm-shrinkwrap&#x27;;

    if (command === &#x27;install&#x27;) {
        return installModule(opts, function (err) {
            if (err) {
                throw err;
            }

            console.log(&#x27;added %s to package.json&#x27;, opts.cmd);
        });
    } else if (command === &#x27;diff&#x27;) {
        return diffShrinkwrap(opts, function (err, diff) {
            if (callback) {
                return callback(err, diff);
            }

            if (err) {
                throw err;
            }

            console.log(diff);
        });
    } else if (command === &#x27;sync&#x27;) {
        return syncShrinkwrap(opts, function (err) {
            if (callback) {
                return callback(err);
            }

            if (err) {
                console.log(&#x27;error&#x27;, err);
                console.error(&#x27;stack&#x27;, new Error().stack);
                // console.log(&#x27;stack.length&#x27;, err.stack.length);
                // return;
                throw err;
            }

            console.log(&#x27;synced npm-shrinkwrap.json &#x27; +
                &#x27;into node_modules&#x27;);
        });
    }

    shrinkwrap(opts, function (err, warnings) {
        if (err) {
            if (opts.onerror) {
                return opts.onerror(err);
            }

            if (callback) {
                return callback(err);
            }

            printWarnings(err, formatters);
            console.log(&#x27;something went wrong. Did not write &#x27; +
                &#x27;npm-shrinkwrap.json&#x27;);
            return process.exit(1);
        }

        if (callback) {
            return callback(null, warnings);
        }

        if (warnings) {
            if (opts.onwarn) {
                opts.onwarn(warnings);
            } else {
                printWarnings({ errors: warnings }, formatters);
            }
        }

        if (!opts.silent) {
            console.log(&#x27;wrote npm-shrinkwrap.json&#x27;);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-shrinkwrap.cli" id="apidoc.module.npm-shrinkwrap.cli">module npm-shrinkwrap.cli</a></h1>


    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.cli.cli" id="apidoc.element.npm-shrinkwrap.cli.cli">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.</span>cli
        <span class="apidocSignatureSpan">(opts, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function main(opts, callback) {
    var command = opts._.shift();

    if (opts.h || opts.help || command === &#x27;help&#x27;) {
        return printHelp(opts);
    }

    opts.dirname = opts.dirname ?
        path.resolve(opts.dirname) : process.cwd();

    opts.keepNested = &#x27;keep-nested&#x27; in opts ?
        !!opts[&#x27;keep-nested&#x27;] : &#x27;keepNested&#x27; in opts ?
        !!opts.keepNested : true;

    opts.warnOnNotSemver = opts.warnOnNotSemver ?
        opts.warnOnNotSemver : true;

    opts.cmd = opts.cmd || &#x27;npm-shrinkwrap&#x27;;

    if (command === &#x27;install&#x27;) {
        return installModule(opts, function (err) {
            if (err) {
                throw err;
            }

            console.log(&#x27;added %s to package.json&#x27;, opts.cmd);
        });
    } else if (command === &#x27;diff&#x27;) {
        return diffShrinkwrap(opts, function (err, diff) {
            if (callback) {
                return callback(err, diff);
            }

            if (err) {
                throw err;
            }

            console.log(diff);
        });
    } else if (command === &#x27;sync&#x27;) {
        return syncShrinkwrap(opts, function (err) {
            if (callback) {
                return callback(err);
            }

            if (err) {
                console.log(&#x27;error&#x27;, err);
                console.error(&#x27;stack&#x27;, new Error().stack);
                // console.log(&#x27;stack.length&#x27;, err.stack.length);
                // return;
                throw err;
            }

            console.log(&#x27;synced npm-shrinkwrap.json &#x27; +
                &#x27;into node_modules&#x27;);
        });
    }

    shrinkwrap(opts, function (err, warnings) {
        if (err) {
            if (opts.onerror) {
                return opts.onerror(err);
            }

            if (callback) {
                return callback(err);
            }

            printWarnings(err, formatters);
            console.log(&#x27;something went wrong. Did not write &#x27; +
                &#x27;npm-shrinkwrap.json&#x27;);
            return process.exit(1);
        }

        if (callback) {
            return callback(null, warnings);
        }

        if (warnings) {
            if (opts.onwarn) {
                opts.onwarn(warnings);
            } else {
                printWarnings({ errors: warnings }, formatters);
            }
        }

        if (!opts.silent) {
            console.log(&#x27;wrote npm-shrinkwrap.json&#x27;);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.cli.printWarnings" id="apidoc.element.npm-shrinkwrap.cli.printWarnings">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.cli.</span>printWarnings
        <span class="apidocSignatureSpan">(err, formatters)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function printWarnings(err, formatters) {
    if (!err.errors) {
        return console.error(err.message);
    }

    err.errors.forEach(function (err) {
        var format = formatters[err.type] || formatters.default;

        console.error(format(err));
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-shrinkwrap.errors" id="apidoc.module.npm-shrinkwrap.errors">module npm-shrinkwrap.errors</a></h1>


    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.EmptyFile" id="apidoc.element.npm-shrinkwrap.errors.EmptyFile">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>EmptyFile
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    function fixShrinkwrap(callback) {
        fs.readFile(shrinkwrapFile, &#x27;utf8&#x27;, function (err, file) {
if (err) {
    return callback(err);
}

if (file === &#x27;&#x27;) {
    return callback(errors.<span class="apidocCodeKeywordSpan">EmptyFile</span>());
}

safeJsonParse(file, function (err, json) {
    if (err) {
        return callback(err);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.InvalidNPMVersion" id="apidoc.element.npm-shrinkwrap.errors.InvalidNPMVersion">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidNPMVersion
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err) {
    return callback(err);
}

var existingVersion = json[&#x27;npm-shrinkwrap-version&#x27;];

if (existingVersion &#x26;&#x26; semver.gt(existingVersion, version)) {
    return callback(errors.<span class="apidocCodeKeywordSpan">InvalidNPMVersion</span>({
        existing: existingVersion,
        current: version
    }));
}

json[&#x27;npm-shrinkwrap-version&#x27;] = version;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.InvalidPackage" id="apidoc.element.npm-shrinkwrap.errors.InvalidPackage">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidPackage
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        }));
    }

    return cb(err);
}

if (!pkg || !pkg.version) {
    return cb(null, errors.<span class="apidocCodeKeywordSpan">InvalidPackage</span>({
        name: name,
        gitLink: gitLink,
        json: JSON.stringify(pkg),
        tag: parsed.tag,
        dirname: opts.dirname
    }));
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.InvalidVersion" id="apidoc.element.npm-shrinkwrap.errors.InvalidVersion">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidVersion
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        json: JSON.stringify(pkg),
        tag: parsed.tag,
        dirname: opts.dirname
    }));
}

if (pkg.version !== version) {
    return cb(null, errors.<span class="apidocCodeKeywordSpan">InvalidVersion</span>({
        name: name,
        expected: version,
        actual: pkg.version,
        gitLink: gitLink,
        tag: parsed.tag,
        dirname: opts.dirname
    }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.InvalidVersionsNPMError" id="apidoc.element.npm-shrinkwrap.errors.InvalidVersionsNPMError">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>InvalidVersionsNPMError
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var error = ValidationError(errors);
var invalid = find(errors, function (error) {
    return error.type === &#x27;invalid.git.version&#x27;;
});

if (invalid) {
    error = ERRORS.<span class="apidocCodeKeywordSpan">InvalidVersionsNPMError</span>({
        actual: invalid.actual,
        name: invalid.name,
        dirname: invalid.dirname,
        errors: error.errors
    });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.MissingPackage" id="apidoc.element.npm-shrinkwrap.errors.MissingPackage">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>MissingPackage
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

var packageUri = path.join(opts.dirname, &#x27;node_modules&#x27;,
    name, &#x27;package.json&#x27;);
readJSON(packageUri, function (err, pkg) {
    if (err) {
        if (err.code === &#x27;ENOENT&#x27;) {
            return cb(null, errors.<span class="apidocCodeKeywordSpan">MissingPackage</span>({
                name: name,
                expected: version,
                dirname: opts.dirname,
                tag: parsed.tag
            }));
        }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.NPMError" id="apidoc.element.npm-shrinkwrap.errors.NPMError">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>NPMError
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var NPM = require(&#x27;npm&#x27;);
    return NPM;
}

function NPMError(pkginfo) {
    var problemsText = pkginfo.problems.join(&#x27;\n&#x27;);

    return ERRORS.<span class="apidocCodeKeywordSpan">NPMError</span>({
        pkginfo: pkginfo,
        problemsText: problemsText
    });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.NoTagError" id="apidoc.element.npm-shrinkwrap.errors.NoTagError">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>NoTagError
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var parsed = parseTag(gitLink);

if (!parsed) {
    return cb(null);
}

if (!parsed.tag) {
    return cb(null, errors.<span class="apidocCodeKeywordSpan">NoTagError</span>({
        name: name,
        gitLink: gitLink,
        dirname: opts.dirname
    }));
}

var version = parseVersion(parsed.tag);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.errors.NonSemverTag" id="apidoc.element.npm-shrinkwrap.errors.NonSemverTag">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.errors.</span>NonSemverTag
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createError(opts) {
    var result = new Error()

    Object.defineProperty(result, &#x22;type&#x22;, {
        value: result.type,
        enumerable: true,
        writable: true,
        configurable: true
    })

    var options = extend({}, args, opts)

    extend(result, options)
    result.message = template(message, options)

    return result
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        dirname: opts.dirname
    }));
}

var version = parseVersion(parsed.tag);

if (!version) {
    return cb(null, errors.<span class="apidocCodeKeywordSpan">NonSemverTag</span>({
        name: name,
        gitLink: gitLink,
        tag: parsed.tag,
        dirname: opts.dirname
    }));
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-shrinkwrap.formatters" id="apidoc.module.npm-shrinkwrap.formatters">module npm-shrinkwrap.formatters</a></h1>


    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.formatters.default" id="apidoc.element.npm-shrinkwrap.formatters.default">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.formatters.</span>default
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function printError(err) {
    return err.message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.formatters.gitlink.tag.notsemver" id="apidoc.element.npm-shrinkwrap.formatters.gitlink.tag.notsemver">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.formatters.</span>gitlink.tag.notsemver
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notSemver(err) {
    return &#x27;WARN: &#x27; + err.message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.formatters.invalid.git.version" id="apidoc.element.npm-shrinkwrap.formatters.invalid.git.version">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.formatters.</span>invalid.git.version
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function invalidVersion(err) {
    return &#x27;ERROR: &#x27; + err.message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-shrinkwrap.read" id="apidoc.module.npm-shrinkwrap.read">module npm-shrinkwrap.read</a></h1>


    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.read.devDependencies" id="apidoc.element.npm-shrinkwrap.read.devDependencies">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.read.</span>devDependencies
        <span class="apidocSignatureSpan">(dirname, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readDevDependencies(dirname, cb) {
    readPackage(dirname, function (err, json) {
        if (err) {
            return cb(err);
        }

        cb(null, json.devDependencies);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.read.package" id="apidoc.element.npm-shrinkwrap.read.package">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.read.</span>package
        <span class="apidocSignatureSpan">(dirname, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readPackage(dirname, cb) {
    var filePath = path.join(dirname, &#x27;package.json&#x27;);
    readJSON(filePath, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        resolvedUri.protocol));
}
}

function isCorrectVersion(filePath, dep, cb) {
var expectedVersion = dep.version;

read.<span class="apidocCodeKeywordSpan">package</span>(filePath, function (err, json) {
    if (err) {
        if (err &#x26;&#x26; err.code === &#x27;ENOENT&#x27;) {
            dep.correct = false;
            return cb(null, dep);
        } else if (err &#x26;&#x26; !err.code) {
            dep.correct = false;
            return cb(null, dep);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-shrinkwrap.read.shrinkwrap" id="apidoc.element.npm-shrinkwrap.read.shrinkwrap">
        function <span class="apidocSignatureSpan">npm-shrinkwrap.read.</span>shrinkwrap
        <span class="apidocSignatureSpan">(dirname, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readShrinkwrap(dirname, cb) {
    var filePath = path.join(dirname, &#x27;npm-shrinkwrap.json&#x27;);
    readJSON(filePath, function(err, json) {
        if (err &#x26;&#x26; err.code === &#x27;ENOENT&#x27;) {
            return cb(FileNotFound({
                filePath: filePath
            }));
        } else {
            cb(null, json);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        var fileName = path.join(opts.dirname, &#x27;npm-shrinkwrap.json&#x27;);
        readJSON(fileName, onfile);

        function onfile(err, oldShrinkwrap) {
if (err) {
    // if no npm-shrinkwrap.json exists then just
    // create one
    npm.commands.<span class="apidocCodeKeywordSpan">shrinkwrap</span>({}, true, onshrinkwrap);
    return;
}

_oldShrinkwrap = oldShrinkwrap;

/* npm.commands.shrinkwrap will blow away any
    extra keys that you set.
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
